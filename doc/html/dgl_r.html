<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vektorielle Bahngleichung mit post-Newtonischer Korrektur</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
            background-color: #f9f9f9;
        }
        h1, h2, h3 {
            color: #2c3e50;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .equation-container {
            background-color: #f8f9fa;
            padding: 15px;
            border-left: 4px solid #3498db;
            margin: 20px 0;
            overflow-x: auto;
            border-radius: 4px;
        }
        .vector {
            font-weight: bold;
            color: #e74c3c;
        }
        .derivative {
            color: #27ae60;
        }
        .parameter {
            color: #9b59b6;
        }
        .important-box {
            background-color: #fffde7;
            padding: 15px;
            border-left: 4px solid #ffc107;
            margin: 25px 0;
            border-radius: 4px;
        }
        .derivation-step {
            counter-reset: step-counter;
            margin-left: 20px;
        }
        .step {
            position: relative;
            padding-left: 50px;
            margin-bottom: 25px;
        }
        .step-number {
            position: absolute;
            left: 0;
            top: 0;
            background: #3498db;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            font-weight: bold;
        }
        .coordinate-system {
            margin: 20px 0;
            padding: 15px;
            background-color: #e8f4f8;
            border-radius: 4px;
        }
        .numerical-info {
            background-color: #eaf7ea;
            padding: 15px;
            border-left: 4px solid #2ecc71;
            margin: 20px 0;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>Vektorielle Bahngleichung \( \vec{r}(\phi) \) mit post-Newtonischer Korrektur</h1>

    <div class="important-box">
        <h2>Zielsetzung</h2>
        <p>Herleitung einer vektoriellen Differentialgleichung für die Bahn \( \vec{r}(\phi) = (x(\phi), y(\phi)) \) in kartesischen Koordinaten unter Berücksichtigung post-Newtonischer Korrekturen.</p>
    </div>

    <div class="coordinate-system">
        <h2>1. Koordinatensystem und Basisvektoren</h2>
        <p>Wir verwenden Polarkoordinaten mit den Einheitsvektoren:</p>
        <div class="equation-container">
            \[
            \begin{align*}
            \hat{e}_r &= \cos\phi\,\hat{i} + \sin\phi\,\hat{j} \\
            \hat{e}_\phi &= -\sin\phi\,\hat{i} + \cos\phi\,\hat{j}
            \end{align*}
            \]
        </div>
        <p>Der Ortsvektor und seine Ableitungen:</p>
        <div class="equation-container">
            \[
            \vec{r} = r\hat{e}_r, \quad \dot{\vec{r}} = \dot{r}\hat{e}_r + r\dot{\phi}\hat{e}_\phi
            \]
        </div>
    </div>

    <h2>2. Post-Newtonische Kraft in vektorieller Form</h2>
    <div class="equation-container">
        \[
        \vec{F} = -\frac{GMm}{r^2}\left(1 - \frac{|\dot{\vec{r}}|^2}{c^2} + \frac{(\vec{r} \cdot \ddot{\vec{r}})}{2c^2}\right)\hat{e}_r
        \]
    </div>

    <div class="derivation-step">
        <div class="step">
            <div class="step-number">1</div>
            <h3>Geschwindigkeitsquadrat</h3>
            <div class="equation-container">
                \[
                |\dot{\vec{r}}|^2 = \dot{r}^2 + r^2\dot{\phi}^2
                \]
            </div>
        </div>

        <div class="step">
            <div class="step-number">2</div>
            <h3>Beschleunigungsskalarprodukt</h3>
            <div class="equation-container">
                \[
                \vec{r} \cdot \ddot{\vec{r}} = r\ddot{r} - r^2\dot{\phi}^2
                \]
            </div>
        </div>
    </div>

    <h2>3. Bewegungsgleichung in vektorieller Form</h2>
    <div class="equation-container">
        \[
        m\ddot{\vec{r}} = \vec{F} = -\frac{GMm}{r^2}\left(1 - \frac{\dot{r}^2 + r^2\dot{\phi}^2}{c^2} + \frac{r\ddot{r} - r^2\dot{\phi}^2}{2c^2}\right)\hat{e}_r
        \]
    </div>

    <div class="important-box">
        <h2>4. Transformation auf kartesische Koordinaten</h2>
        <p>Wir drücken alles in kartesischen Komponenten \( \vec{r} = (x, y) \) aus:</p>
        <div class="equation-container">
            \[
            \begin{cases}
            x = r\cos\phi \\
            y = r\sin\phi
            \end{cases}
            \]
        </div>
    </div>

    <h2>5. Differentialgleichungssystem für \( x(\phi) \) und \( y(\phi) \)</h2>
    <div class="derivation-step">
        <div class="step">
            <div class="step-number">1</div>
            <h3>Drehimpulserhaltung</h3>
            <div class="equation-container">
                \[
                \dot{\phi} = \frac{L}{m(x^2 + y^2)}
                \]
            </div>
        </div>

        <div class="step">
            <div class="step-number">2</div>
            <h3>Zeitableitungen in Abhängigkeit von \( \phi \)</h3>
            <div class="equation-container">
                \[
                \dot{x} = \frac{dx}{d\phi}\dot{\phi}, \quad \dot{y} = \frac{dy}{d\phi}\dot{\phi}
                \]
            </div>
        </div>
    </div>

    <div class="important-box">
        <h3>Vollständiges gekoppeltes Differentialgleichungssystem:</h3>
        <div class="equation-container">
            \[
            \begin{cases}
            \frac{d^2x}{d\phi^2} = f_x\left(x,y,\frac{dx}{d\phi},\frac{dy}{d\phi}\right) \\
            \frac{d^2y}{d\phi^2} = f_y\left(x,y,\frac{dx}{d\phi},\frac{dy}{d\phi}\right)
            \end{cases}
            \]
        </div>
        <p>Die expliziten Formen von \( f_x \) und \( f_y \) ergeben sich aus der vollständigen Entwicklung der Bewegungsgleichung.</p>
    </div>

    <h2>6. Explizite Form der Differentialgleichungen</h2>
    <div class="equation-container">
        \[
        \frac{d^2x}{d\phi^2} = \frac{ \frac{GMm^2}{L^2}\frac{x}{r^3} - \frac{x}{r^2} - \frac{GM}{c^2}\left[ \frac{1}{r^2}\left(\frac{dx}{d\phi}\frac{dy}{d\phi}(y\frac{dx}{d\phi}-x\frac{dy}{d\phi}) + \frac{x}{2r^4}\left((\frac{dx}{d\phi})^2 + (\frac{dy}{d\phi})^2\right)\right) \right] }{ 1 - \frac{GM}{2c^2r} }
        \]
    </div>
    <div class="equation-container">
        \[
        \frac{d^2y}{d\phi^2} = \frac{ \frac{GMm^2}{L^2}\frac{y}{r^3} - \frac{y}{r^2} - \frac{GM}{c^2}\left[ \frac{1}{r^2}\left(\frac{dx}{d\phi}\frac{dy}{d\phi}(x\frac{dy}{d\phi}-y\frac{dx}{d\phi}) + \frac{y}{2r^4}\left((\frac{dx}{d\phi})^2 + (\frac{dy}{d\phi})^2\right)\right) \right] }{ 1 - \frac{GM}{2c^2r} }
        \]
    </div>
    <p>mit \( r = \sqrt{x^2 + y^2} \).</p>

    <div class="numerical-info">
        <h2>7. Numerische Lösung des Systems</h2>
        <h3>Transformiertes System 1. Ordnung:</h3>
        <div class="equation-container">
            \[
            \begin{cases}
            \frac{dx}{d\phi} = v_x \\
            \frac{dy}{d\phi} = v_y \\
            \frac{dv_x}{d\phi} = f_x(x,y,v_x,v_y) \\
            \frac{dv_y}{d\phi} = f_y(x,y,v_x,v_y)
            \end{cases}
            \]
        </div>
        <h3>Anfangsbedingungen:</h3>
        <ul>
            <li>\( x(0) = r_0\cos\phi_0 \)</li>
            <li>\( y(0) = r_0\sin\phi_0 \)</li>
            <li>\( v_x(0) = -\frac{m}{L}r_0^2\dot{r}_0\cos\phi_0 - r_0\sin\phi_0 \)</li>
            <li>\( v_y(0) = -\frac{m}{L}r_0^2\dot{r}_0\sin\phi_0 + r_0\cos\phi_0 \)</li>
        </ul>
    </div>

    <div class="important-box">
        <h2>Zusammenfassung</h2>
        <ol>
            <li>Post-Newtonische Kraft in vektorieller Form</li>
            <li>Transformation auf kartesische Koordinaten</li>
            <li>Gekoppeltes nichtlineares Differentialgleichungssystem 2. Ordnung</li>
            <li>Reduktion auf System 1. Ordnung für numerische Lösung</li>
            <li>Implementierung mit Runge-Kutta-Verfahren</li>
        </ol>
        <p>Dieses System kann direkt in Python mit <code>scipy.integrate.solve_ivp</code> gelöst werden.</p>
    </div>
</body>
</html>
