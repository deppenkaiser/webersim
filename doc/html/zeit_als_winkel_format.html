<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Universelles Zeitformat für Himmelskörper</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        :root {
            --space-dark: #0B3D91;
            --earth-blue: #1E88E5;
            --mars-red: #E53935;
            --moon-gray: #757575;
            --signal-green: #43A047;
        }
        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.8;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fafafa;
        }
        h1, h2, h3 {
            color: var(--space-dark);
            margin-top: 30px;
        }
        h1 {
            border-bottom: 3px solid var(--earth-blue);
            padding-bottom: 10px;
        }
        h2 {
            border-left: 5px solid var(--mars-red);
            padding-left: 15px;
        }
        .time-format {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin: 30px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            border: 1px solid #e0e0e0;
        }
        .format-display {
            font-family: 'Courier New', monospace;
            font-size: 2.2em;
            text-align: center;
            margin: 20px 0;
            color: var(--space-dark);
        }
        .format-breakdown {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        .format-part {
            text-align: center;
            padding: 10px;
            margin: 0 5px;
            border-radius: 5px;
        }
        .integer-part {
            background-color: var(--earth-blue);
            color: white;
        }
        .fractional-part {
            background-color: var(--moon-gray);
            color: white;
        }
        .example-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .example-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border-top: 4px solid var(--mars-red);
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .comparison-table th, .comparison-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        .comparison-table th {
            background-color: var(--space-dark);
            color: white;
        }
        .comparison-table tr:nth-child(even) {
            background-color: #f5f5f5;
        }
        .code-block {
            background-color: #263238;
            color: #EEFFFF;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            margin: 25px 0;
        }
        .advantage-list {
            background-color: #E3F2FD;
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0;
        }
        .planet-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .earth { background-color: var(--earth-blue); }
        .moon { background-color: var(--moon-gray); }
        .mars { background-color: var(--mars-red); }
    </style>
</head>
<body>
    <h1>Universelles Zeitformat für Himmelskörper</h1>
    
    <div class="time-format">
        <h2>Standardisiertes Format: <code>YYYY.ZZZZZZZ</code></h2>
        
        <div class="format-display">
            2025<span style="color:var(--mars-red)">.</span>3645765
        </div>
        
        <div class="format-breakdown">
            <div class="format-part integer-part">
                <strong>YYYY</strong><br>
                Referenzjahre
            </div>
            <div class="format-part fractional-part">
                <strong>ZZZZZZZ</strong><br>
                Bahnposition
            </div>
        </div>
        
        <p>Mathematische Definition:</p>
        <p style="text-align:center; font-size:1.2em">
            \[ \tau = \text{floor}\left(\frac{t}{T}\right) + \frac{\phi(t)}{2\pi} \]
        </p>
        <p>wobei:
            <ul>
                <li>\( t \) = Zeit in Sekunden seit Referenzpunkt</li>
                <li>\( T \) = Umlaufperiode des Referenzkörpers</li>
                <li>\( \phi(t) \) = Wahre Anomalie zum Zeitpunkt t</li>
            </ul>
        </p>
    </div>
    
    <h2>Anwendungsbeispiele</h2>
    <div class="example-grid">
        <div class="example-card">
            <h3><span class="planet-indicator earth"></span> Erde-Mond System</h3>
            <p><strong>2030.5000000</strong></p>
            <ul>
                <li>2030 = Erdumläufe seit Referenz</li>
                <li>0.5000000 = Mondposition ϕ = π (180°)</li>
                <li>Entspricht Vollmondphase</li>
            </ul>
        </div>
        
        <div class="example-card">
            <h3><span class="planet-indicator mars"></span> Mars Mission</h3>
            <p><strong>15.7843210</strong></p>
            <ul>
                <li>15 = Marsjahre seit Referenz</li>
                <li>0.7843210 = Position ϕ ≈ 4.93 rad (282°)</li>
                <li>Spätsommer auf der Nordhalbkugel</li>
            </ul>
        </div>
        
        <div class="example-card">
            <h3><span class="planet-indicator moon"></span> Mondkolonie</h3>
            <p><strong>102.0000001</strong></p>
            <ul>
                <li>102 = Mondumläufe seit Koloniegründung</li>
                <li>0.0000001 = Beginn des Zyklus (ϕ ≈ 0.00063 rad)</li>
                <li>Sonnenaufgang am Landeplatz</li>
            </ul>
        </div>
    </div>
    
    <h2>Technische Umsetzung</h2>
    <div class="code-block">
// C-Struktur für interplanetare Zeit
typedef struct {
    uint32_t base_cycles;  // Ganzzahlige Umläufe
    double phase;          // Bahnphase [0,1)
} CelestialTime;

// Umrechnung UTC → Himmelszeit
CelestialTime utcToCelestial(time_t utc, 
                            double period, 
                            double eccentricity) {
    double cycles = difftime(utc, REF_DATE) / period;
    double M = 2 * M_PI * fmod(cycles, 1.0);
    double E = solveKepler(M, eccentricity);
    double phi = 2 * atan(sqrt((1+eccentricity)/(1-eccentricity)) * tan(E/2));
    
    return (CelestialTime){
        .base_cycles = (uint32_t)cycles,
        .phase = phi / (2 * M_PI)
    };
}
    </div>
    
    <div class="advantage-list">
        <h2>Vorteile dieses Formats</h2>
        <ul>
            <li><strong>Universell:</strong> Anwendbar auf alle Himmelskörper mit periodischer Bahn</li>
            <li><strong>Präzise:</strong> 7 Dezimalstellen = ±0.0000001 Umlauf (0.03s für Erdumlauf)</li>
            <li><strong>Intuitiv:</strong> Menschenlesbare Darstellung</li>
            <li><strong>Maschinenfreundlich:</strong> Leicht verarbeitbare Zahlen</li>
            <li><strong>Schaltsekundenfrei:</strong> Keine künstlichen Korrekturen nötig</li>
        </ul>
    </div>
    
    <h2>Vergleich mit bestehenden Systemen</h2>
    <table class="comparison-table">
        <tr>
            <th>System</th>
            <th>Präzision</th>
            <th>Astronomisch</th>
            <th>Mehrkörper</th>
            <th>Menschlich</th>
        </tr>
        <tr>
            <td>UTC</td>
            <td>±1s</td>
            <td>Nein</td>
            <td>Nein</td>
            <td>Ja</td>
        </tr>
        <tr>
            <td>Julianisches Datum</td>
            <td>Mikrosekunden</td>
            <td>Ja</td>
            <td>Nein</td>
            <td>Nein</td>
        </tr>
        <tr>
            <td>Unix-Zeitstempel</td>
            <td>Nanosekunden</td>
            <td>Nein</td>
            <td>Nein</td>
            <td>Nein</td>
        </tr>
        <tr>
            <td><strong>YYYY.ZZZZZZZ</strong></td>
            <td>0.03s (Erde)</td>
            <td>Ja</td>
            <td>Ja</td>
            <td>Ja</td>
        </tr>
    </table>
    
    <h2>Implementierung in Raumfahrtmissionen</h2>
    <div class="time-format">
        <h3>Zeitstempel für Mars Rover</h3>
        <div class="format-display">
            5<span style="color:var(--mars-red)">.</span>3274510
        </div>
        <p>Interpretation:</p>
        <ol>
            <li><strong>5</strong> = Fünftes Marsjahr seit Landung</li>
            <li><strong>0.3274510</strong> = Position ϕ ≈ 2.057 rad (118°)</li>
            <li>Entspricht irdischem UTC: 2026-04-15T14:32:11Z</li>
        </ol>
        <p>Vorteil: Rover kann direkt Bahnposition ableiten ohne Ephemeriden-Tabellen</p>
    </div>
</body>
</html>